(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["question"],{"3e18":function(n,e,s){n.exports=s.p+"img/document1.8ccb7691.png"},4090:function(n,e,s){n.exports=s.p+"img/document8.9e0bde29.png"},"50b5":function(n,e,s){n.exports=s.p+"img/document5.c8cced76.png"},5186:function(n,e,s){"use strict";s("db69")},"808a":function(n,e,s){n.exports=s.p+"img/document4.f6bba703.png"},8859:function(n,e,s){n.exports=s.p+"img/document2.0983cc67.png"},da3f:function(n,e,s){"use strict";s.r(e);var t=function(){var n=this,e=n.$createElement,s=n._self._c||e;return s("a-layout-content",{staticStyle:{padding:"10px 60px"}},[s("title-detail",{attrs:{title:"问题汇总",detail:"下面将会罗列 hx-antd-vue 使用配置过程中将会遇到的一些问题及解决办法。"}}),s("div",{staticClass:"q-box"},[s("h3",{staticClass:"fun-title"},[n._v("1、按使用去引用 hx-antd-vue 后，组件没样式")]),s("p",[n._v("若遇到按使用去引用 hx-antd-vue 后，组件没样式，且报组件未注册的错误，如下图：")]),s("img",{attrs:{src:n.img1}}),s("p",[n._v(" 这是因为2.0版本之前的 hx-antd-vue 是需要先安装和引用 ant-design-vue ，但在 2.0 版本之后（包括 2.0 ）的 hx-antd-vue 就无需再安装和引用 ant-design-vue。若想解决错误，请将 hx-antd-vue 升级到 2.0 或先安装和引用 ant-design-vue。 ")])]),s("div",{staticClass:"q-box"},[s("h3",{staticClass:"fun-title"},[n._v("2、Module not found: Error: Can't resolve 'less-loader' in")]),s("p",[n._v(" 若报 Module not found: Error: Can't resolve 'less-loader' in 这个错误，是因为 antd 和 hx-antd-vue 都是使用 less 作为 css 的预编译语言，所以项目需要先安装 less 和 less-loader 依赖 ")]),s("img",{attrs:{src:n.img2}}),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v("\n       npm install less less-loader -D\n      ")]),n._v("\n  ")])]),s("div",{staticClass:"q-box"},[s("h3",{staticClass:"fun-title"},[n._v("3、Inline JavaScript is not enabled. Is it set in your options?")]),s("p",[n._v("若遇到 Inline JavaScript is not enabled. Is it set in your options? 报错，如下图：")]),s("img",{attrs:{src:n.img3}}),s("p",[n._v("主要是因为 antd 的 less 样式表中有链式调用的写法:")]),s("img",{attrs:{src:n.img4}}),s("p",[n._v("我们需要在 vue.config.js 或 webpack 配置中去支持 less 的链式调用：")]),s("img",{attrs:{src:n.img5}}),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v("\n      css:{\n          loaderOptions:{\n              less:{\n                  lessOptions:{\n                      javascriptEnabled:true // 支持链式调用\n                      }\n                  }\n              }\n      },\n      ")]),n._v("\n  ")])]),s("div",{staticClass:"q-box"},[s("h3",{staticClass:"fun-title"},[n._v("4、遇到报错 Operation on an invalid type 运行无效类型")]),s("img",{attrs:{src:n.img6}}),s("p",[n._v("这是因为 less 是 4.x 版本且有 antd 有计算样式存在，如下图：")]),s("img",{attrs:{src:n.img7}}),s("p",[n._v("在 less 中，上图的写法类似 css 中的 calc，而 less 将会计算所有 未转义的内容，除非你用 strict math 模式。")]),s("p",[n._v("解决方法：将 less 版本降到 3.x")]),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v("\n      npm i less@3 -D\n      ")]),n._v("\n  ")])]),s("div",{staticClass:"q-box"},[s("h3",{staticClass:"fun-title"},[n._v("5、Module not found: Error: Can't resolve 'path' in")]),s("p",[n._v(" 在配置 主题与换肤 中的 2.1 换肤配置时，遇到错误 Module not found: Error: Can't resolve 'path' in BREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default. This is no longer the case. Verify if you need this module and configure a polyfill for it. If you want to include a polyfill, you need to: - add a fallback 'resolve.fallback: { \"path\": require.resolve(\"path-browserify\") }' - install 'path-browserify' If you don't want to include a polyfill, you can use an empty module like this: resolve.fallback: { \"path\": false } Module not found: Error: Can't resolve 'fs' in Can't resolve 'crypto' in ")]),s("p",[n._v("如下图：")]),s("img",{attrs:{src:n.img8}}),s("p",[n._v(" 这是因为你的项目使用的是 webpack5 ，v4 以前附带了许多node.js核心模块的polyfill，在构建时给 bundle附加了庞大的polyfills，在大部分情况下，polyfills并不是必须。 ")]),s("p",[n._v("现在v5将要停止这一切，在模块的应用中不再自动引入Polyfills，明显的减小了打包体积。")]),s("p",[n._v(" webpack 4，在v4中，crypto模块会主动添加 polyfill，也就是crypto-browserify，我们运行的代码是不需要的，反而会使最后的包变大，影响编译速度。 ")]),s("p",[n._v("webpack 5，在v5编译中，会出现polyfill添加提示，如果不需要node polyfille,按照提示 alias 设置为 false 即可。")]),s("p",[n._v("解决方法： 在 vue.config.js 中配置 configureWebpack")]),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v("\n      configureWebpack: config => {\n          return {\n              resolve: {\n                  // 不需要node polyfilss\n                  alias: {\n                      crypto: false,\n                      fs:false,\n                      path:false\n                  },\n              },\n          }\n      }\n      ")]),n._v("\n  ")]),s("p",[n._v("如果需要使用 polyfilss ，则需要自己手动安装添加，例如 crypto：")]),s("p",[n._v("1、安装")]),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v("\n      npm install crypto-browserify\n      ")]),n._v("\n  ")]),s("p",[n._v("2、配置 package.json")]),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v('\n      {\n          // ...\n          "browser": {\n              "crypto": false\n          },\n          "dependencies": {\n              "crypto-browserify": "^3.12.0",\n          // ...\n          }\n      }\n      ')]),n._v("\n  ")]),s("p",[n._v("3、修改 webpack 配置")]),s("pre",{staticClass:"line-numbers"},[n._v("      "),s("code",{staticClass:"language-JavaScript"},[n._v("\n       resolve: {\n      // 1.不需要node polyfilss\n      // alias: {\n      //  crypto: false\n      // },\n      // 2.手动添加polyfills\n          fallback: {\n              \"crypto\": require.resolve('crypto-browserify')\n          }\n       }\n      ")]),n._v("\n  ")])])],1)},a=[],i={name:"question",data:function(){return{img1:s("3e18"),img2:s("8859"),img3:s("ed1c"),img4:s("808a"),img5:s("50b5"),img6:s("e5de"),img7:s("febf"),img8:s("4090")}}},l=i,o=(s("5186"),s("2877")),r=Object(o["a"])(l,t,a,!1,null,"4210364a",null);e["default"]=r.exports},db69:function(n,e,s){},e5de:function(n,e,s){n.exports=s.p+"img/document6.205fb6a8.png"},ed1c:function(n,e,s){n.exports=s.p+"img/document3.a77cf309.png"},febf:function(n,e,s){n.exports=s.p+"img/document7.0cc98fde.png"}}]);
//# sourceMappingURL=question.0fc9ba52.js.map