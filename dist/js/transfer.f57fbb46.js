(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["transfer"],{"2eaa":function(e,t,n){var a=n("d612"),s=n("8db3"),l=n("5edf"),r=n("7948"),i=n("b047f"),o=n("c584"),c=200;function d(e,t,n,d){var p=-1,u=s,h=!0,m=e.length,y=[],f=t.length;if(!m)return y;n&&(t=r(t,i(n))),d?(u=l,h=!1):t.length>=c&&(u=o,h=!1,t=new a(t));e:while(++p<m){var g=e[p],b=null==n?g:n(g);if(g=d||0!==g?g:0,h&&b===b){var k=f;while(k--)if(t[k]===b)continue e;y.push(g)}else u(t,b,d)||y.push(g)}return y}e.exports=d},"3d6a":function(e,t,n){},7523:function(e,t,n){"use strict";n("3d6a")},bc39:function(e,t,n){"use strict";n.r(t);for(var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("title-detail",{attrs:{title:"Transfer 穿梭框",detail:"双栏穿梭选择框。"}}),n("title-detail",{attrs:{title:"注意",detail:"按照 Vue 最新的规范，所有的组件数组最好绑定 key。在 Transfer 中，dataSource里的数据值需要指定 key 值。对于 dataSource 默认将每列数据的 key 属性作为唯一的标识。"}}),n("span",[e._v("如果你的数据没有这个属性，务必使用 rowKey 来指定数据列的主键。")]),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-html",domProps:{textContent:e._s(e.test)}},[e._v("\n      ")]),e._v("\n  ")]),n("a-tabs",{attrs:{type:"card"}},[n("a-tab-pane",{key:"1",attrs:{tab:"穿梭框"}},[n("basis")],1),n("a-tab-pane",{key:"2",attrs:{tab:"表格穿梭框"}},[n("tabel")],1),n("a-tab-pane",{key:"3",attrs:{tab:"树穿梭框"}},[n("tree")],1)],1),n("api-table",{attrs:{data:e.tableData}}),n("api-table",{attrs:{data:e.tableDataFn,title:"事件"}}),n("title-detail",{attrs:{title:"Render Props",detail:"1.5.0 新增。Transfer 支持接收 children 自定义渲染列表，并返回以下参数："}}),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-html",domProps:{textContent:e._s(e.html)}},[e._v("\n      ")]),e._v("\n  ")]),n("title-detail",{attrs:{title:"children",detail:"参考示例 #"}}),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-html",domProps:{textContent:e._s(e.html1)}},[e._v("\n      ")]),e._v("\n  ")]),n("api-table",{attrs:{data:e.tableDataChildren}})],1)},s=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("com-show",[n("div",{staticClass:"tooltip-box"},[n("y-transfer",{attrs:{"data-source":e.mockData,"show-search":"","list-style":{width:"250px",height:"300px"},operations:["to right","to left"],"target-keys":e.targetKeys,render:function(e){return e.title+"-"+e.description}},on:{change:e.handleChange}},[n("y-button",{staticStyle:{float:"right",margin:"5px"},attrs:{slot:"footer",size:"small"},on:{click:e.getMock},slot:"footer"},[e._v("reload")]),n("span",{attrs:{slot:"notFoundContent"},slot:"notFoundContent"},[e._v("没数据")])],1)],1)]),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-html",domProps:{textContent:e._s(e.html)}},[e._v("\n      ")]),e._v("\n  ")]),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-javascript"},[e._v("\n        export default {\n          data() {\n            return {\n              mockData: [],\n              targetKeys: [],\n            };\n          },\n          mounted() {\n            this.getMock();\n          },\n          methods: {\n            getMock() {\n              const targetKeys = [];\n              const mockData = [];\n              for (let i = 0; i "+e._s(e.str)+" 20; i++) {\n                const data = {\n                  key: i.toString(),\n                  title: `content${i + 1}`,\n                  description: `description of content${i + 1}`,\n                  chosen: Math.random() * 2 > 1,\n                };\n                if (data.chosen) {\n                  targetKeys.push(data.key);\n                }\n                mockData.push(data);\n              }\n              this.mockData = mockData;\n              this.targetKeys = targetKeys;\n            },\n            handleChange(targetKeys, direction, moveKeys) {\n              console.log(targetKeys, direction, moveKeys);\n              this.targetKeys = targetKeys;\n            },\n          },\n        };\n      ")]),e._v("\n  ")])],1)},r=[],i=(n("d3b7"),n("25f0"),{namne:"basisTransfer",data:function(){return{mockData:[],targetKeys:[],str:"<",html:'<template>\n        <y-transfer\n          :data-source="mockData"\n          show-search\n          :list-style="{\n            width: \'250px\',\n            height: \'300px\',\n          }"\n          :operations="[\'to right\', \'to left\']"\n          :target-keys="targetKeys"\n          :render="item => `${item.title}-${item.description}`"\n          @change="handleChange"\n        >\n          <y-button\n            slot="footer"\n            slot-scope="props"\n            size="small"\n            style="float:right;margin: 5px"\n            @click="getMock"\n          >\n            reload\n          </y-button>\n          <span slot="notFoundContent">\n            没数据\n          </span>\n        </y-transfer>\n      </template>'}},mounted:function(){this.getMock()},methods:{getMock:function(){for(var e=[],t=[],n=0;n<20;n++){var a={key:n.toString(),title:"content".concat(n+1),description:"description of content".concat(n+1),chosen:2*Math.random()>1};a.chosen&&e.push(a.key),t.push(a)}this.mockData=t,this.targetKeys=e},handleChange:function(e,t,n){console.log(e,t,n),this.targetKeys=e}}}),o=i,c=n("2877"),d=Object(c["a"])(o,l,r,!1,null,null,null),p=d.exports,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("com-show",[n("div",{staticClass:"tooltip-box"},[n("y-transfer",{attrs:{"data-source":e.mockData,titles:["源列表","目标列表"],"target-keys":e.targetKeys,"show-search":"",showSelectAll:"",operations:["haha","haha"],"filter-option":function(e,t){return-1!==t.title.indexOf(e)},"show-select-all":!1},on:{change:e.onChange},scopedSlots:e._u([{key:"children",fn:function(t){var a=t.props,s=a.direction,l=a.filteredItems,r=a.selectedKeys,i=a.disabled,o=t.on,c=o.itemSelectAll,d=o.itemSelect;return[n("y-table",{style:{pointerEvents:i?"none":null},attrs:{"row-selection":e.getRowSelection({disabled:i,selectedKeys:r,itemSelectAll:c,itemSelect:d}),columns:"left"===s?e.leftColumns:e.rightColumns,"data-source":l,size:"small",bordered:"","custom-row":function(e){var t=e.key,n=e.disabled;return{on:{click:function(){n||i||d(t,!r.includes(t))}}}}}})]}}])})],1)]),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-html",domProps:{textContent:e._s(e.html)}},[e._v("\n      ")]),e._v("\n  ")]),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-javascript"},[e._v("\n        import difference from 'lodash/difference';\n        const mockData = [];\n        for (let i = 0; i "+e._s(e.str)+" 20; i++) {\n          mockData.push({\n            key: i.toString(),\n            title: `content${i + 1}`,\n            description: `description of content${i + 1}`,\n            disabled: i % 4 === 0,\n          });\n        }\n\n        const originTargetKeys = mockData.filter(item => +item.key % 3 > 1).map(item => item.key);\n\n        const leftTableColumns = [\n          {\n            dataIndex: 'title',\n            title: 'Name',\n          },\n          {\n            dataIndex: 'description',\n            title: 'Description',\n          },\n        ];\n        const rightTableColumns = [\n          {\n            dataIndex: 'title',\n            title: 'Name',\n          },\n        ];\n\n        export default {\n          data() {\n            return {\n              mockData,\n              targetKeys: originTargetKeys,\n              disabled: false,\n              showSearch: false,\n              leftColumns: leftTableColumns,\n              rightColumns: rightTableColumns,\n            };\n          },\n          methods: {\n            onChange(nextTargetKeys) {\n              this.targetKeys = nextTargetKeys;\n            },\n\n            triggerDisable(disabled) {\n              this.disabled = disabled;\n            },\n\n            triggerShowSearch(showSearch) {\n              this.showSearch = showSearch;\n            },\n            getRowSelection({ disabled, selectedKeys, itemSelectAll, itemSelect }) {\n              return {\n                getCheckboxProps: item => ({ props: { disabled: disabled || item.disabled } }),\n                onSelectAll(selected, selectedRows) {\n                  const treeSelectedKeys = selectedRows\n                    .filter(item => !item.disabled)\n                    .map(({ key }) => key);\n                  const diffKeys = selected\n                    ? difference(treeSelectedKeys, selectedKeys)\n                    : difference(selectedKeys, treeSelectedKeys);\n                  itemSelectAll(diffKeys, selected);\n                },\n                onSelect({ key }, selected) {\n                  itemSelect(key, selected);\n                },\n                selectedRowKeys: selectedKeys,\n              };\n            },\n          },\n        };\n      ")]),e._v("\n  ")])],1)},h=[],m=(n("d81d"),n("4de4"),n("ceac")),y=n.n(m),f=[],g=0;g<20;g++)f.push({key:g.toString(),title:"content".concat(g+1),description:"description of content".concat(g+1),disabled:g%4===0});var b=f.filter((function(e){return+e.key%3>1})).map((function(e){return e.key})),k=[{dataIndex:"title",title:"Name"},{dataIndex:"description",title:"Description"}],K=[{dataIndex:"title",title:"Name"}],v={name:"tabelTransfer",data:function(){return{mockData:f,targetKeys:b,leftColumns:k,rightColumns:K,str:"<",html:'<template>\n          <div>\n            <y-transfer\n              :data-source="mockData"\n              :target-keys="targetKeys"\n              :disabled="disabled"\n              :show-search="showSearch"\n              :filter-option="(inputValue, item) => item.title.indexOf(inputValue) !== -1"\n              :show-select-all="false"\n              @change="onChange"\n            >\n              <template\n                slot="children"\n                slot-scope="{\n                  props: { direction, filteredItems, selectedKeys, disabled: listDisabled },\n                  on: { itemSelectAll, itemSelect },\n                }"\n              >\n                <a-table\n                  :row-selection="\n                    getRowSelection({ disabled: listDisabled, selectedKeys, itemSelectAll, itemSelect })\n                  "\n                  :columns="direction === \'left\' ? leftColumns : rightColumns"\n                  :data-source="filteredItems"\n                  size="small"\n                  :style="{ pointerEvents: listDisabled ? \'none\' : null }"\n                  :custom-row="\n                    ({ key, disabled: itemDisabled }) => ({\n                      on: {\n                        click: () => {\n                          if (itemDisabled || listDisabled) return;\n                          itemSelect(key, !selectedKeys.includes(key));\n                        },\n                      },\n                    })\n                  "\n                />\n              </template>\n            </y-transfer>\n            <y-switch\n              un-checked-children="disabled"\n              checked-children="disabled"\n              :checked="disabled"\n              style="margin-top: 16px"\n              @change="triggerDisable"\n            />\n            <y-switch\n              un-checked-children="showSearch"\n              checked-children="showSearch"\n              :checked="showSearch"\n              style="margin-top: 16px"\n              @change="triggerShowSearch"\n            />\n          </div>\n        </template>'}},methods:{onChange:function(e){this.targetKeys=e},getRowSelection:function(e){var t=e.disabled,n=e.selectedKeys,a=e.itemSelectAll,s=e.itemSelect;return{getCheckboxProps:function(e){return{props:{disabled:t||e.disabled}}},onSelectAll:function(e,t){var s=t.filter((function(e){return!e.disabled})).map((function(e){var t=e.key;return t})),l=e?y()(s,n):y()(n,s);a(l,e)},onSelect:function(e,t){var n=e.key;s(n,t)},selectedRowKeys:n}}}},S=v,C=Object(c["a"])(S,u,h,!1,null,null,null),x=C.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("com-show",[n("div",{staticClass:"tooltip-box"},[n("y-transfer",{staticClass:"tree-transfer",attrs:{"data-source":e.dataSource,"target-keys":e.targetKeys,render:function(e){return e.title},"show-select-all":!1},on:{change:e.onChange},scopedSlots:e._u([{key:"children",fn:function(t){var a=t.props,s=a.direction,l=a.selectedKeys,r=t.on.itemSelect;return["left"===s?n("a-tree",{attrs:{blockNode:"",checkable:"",checkStrictly:"",defaultExpandAll:"",checkedKeys:l.concat(e.targetKeys),treeData:e.treeData},on:{check:function(t,n){e.onChecked(t,n,l.concat(e.targetKeys),r)},select:function(t,n){e.onChecked(t,n,l.concat(e.targetKeys),r)}}}):e._e()]}}])})],1)]),n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-html",domProps:{textContent:e._s(e.html)}},[e._v("\n      ")]),e._v("\n  ")]),e._m(0)],1)},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",{staticClass:"line-numbers"},[e._v("      "),n("code",{staticClass:"language-javascript"},[e._v("\n        const treeData = [\n          { key: '0-0', title: '0-0' },\n          {\n            key: '0-1',\n            title: '0-1',\n            children: [\n              { key: '0-1-0', title: '0-1-0' },\n              { key: '0-1-1', title: '0-1-1' },\n            ],\n          },\n          { key: '0-2', title: '0-3' },\n        ];\n\n        const transferDataSource = [];\n        function flatten(list = []) {\n          list.forEach(item => {\n            transferDataSource.push(item);\n            flatten(item.children);\n          });\n        }\n        flatten(JSON.parse(JSON.stringify(treeData)));\n\n        function isChecked(selectedKeys, eventKey) {\n          return selectedKeys.indexOf(eventKey) !== -1;\n        }\n\n        function handleTreeData(data, targetKeys = []) {\n          data.forEach(item => {\n            item['disabled'] = targetKeys.includes(item.key);\n            if (item.children) {\n              handleTreeData(item.children, targetKeys);\n            }\n          });\n          return data;\n        }\n\n        export default {\n          data() {\n            return {\n              targetKeys: [],\n              dataSource: transferDataSource,\n            };\n          },\n          computed: {\n            treeData() {\n              return handleTreeData(treeData, this.targetKeys);\n            },\n          },\n          methods: {\n            onChange(targetKeys) {\n              console.log('Target Keys:', targetKeys);\n              this.targetKeys = targetKeys;\n            },\n            onChecked(_, e, checkedKeys, itemSelect) {\n              const { eventKey } = e.node;\n              itemSelect(eventKey, !isChecked(checkedKeys, eventKey));\n            },\n          },\n        };\n      ")]),e._v("\n  ")])}],D=(n("159b"),n("caad"),n("2532"),[{key:"0-0",title:"0-0"},{key:"0-1",title:"0-1",children:[{key:"0-1-0",title:"0-1-0"},{key:"0-1-1",title:"0-1-1"}]},{key:"0-2",title:"0-3"}]),T=[];function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.forEach((function(e){T.push(e),A(e.children)}))}function E(e,t){return-1!==e.indexOf(t)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){e["disabled"]=t.includes(e.key),e.children&&I(e.children,t)})),e}A(JSON.parse(JSON.stringify(D)));var O={name:"treeTransfer",data:function(){return{targetKeys:[],dataSource:T,html:'<template>\n          <div>\n            <y-transfer\n              class="tree-transfer"\n              :data-source="dataSource"\n              :target-keys="targetKeys"\n              :render="item => item.title"\n              :show-select-all="false"\n              @change="onChange"\n            >\n              <template\n                slot="children"\n                slot-scope="{ props: { direction, selectedKeys }, on: { itemSelect } }"\n              >\n                <a-tree\n                  v-if="direction === \'left\'"\n                  blockNode\n                  checkable\n                  checkStrictly\n                  defaultExpandAll\n                  :checkedKeys="[...selectedKeys, ...targetKeys]"\n                  :treeData="treeData"\n                  @check="\n                    (_, props) => {\n                      onChecked(_, props, [...selectedKeys, ...targetKeys], itemSelect);\n                    }\n                  "\n                  @select="\n                    (_, props) => {\n                      onChecked(_, props, [...selectedKeys, ...targetKeys], itemSelect);\n                    }\n                  "\n                />\n              </template>\n            </y-transfer>\n          </div>\n        </template>'}},computed:{treeData:function(){return I(D,this.targetKeys)}},methods:{onChange:function(e){console.log("Target Keys:",e),this.targetKeys=e},onChecked:function(e,t,n,a){var s=t.node.eventKey;a(s,!E(n,s))}}},R=O,$=(n("7523"),Object(c["a"])(R,_,w,!1,null,"b1cdcbea",null)),j=$.exports,N={name:"myTransfer",components:{basis:p,tabel:x,tree:j},data:function(){return{test:'// 比如你的数据主键是 uid\n      return <y-transfer :rowKey="record => record.uid" />;',html:'{\n        "props": {\n          "direction": String,\n          "disabled": Boolean,\n          "filteredItems": Array,\n          "selectedKeys": Array\n        },\n        "on": {\n          "itemSelect": Function,\n          "itemSelectAll": Function\n        }\n      }',html1:'<a-transfer>\n        <template\n          slot="children"\n          slot-scope="{\n            props: {\n              direction,\n              filteredItems,\n              selectedKeys,\n              disabled: listDisabled\n            }, on: {\n              itemSelectAll,\n              itemSelect,\n            }\n          }"\n        >\n          <your-component />\n        <template>\n      </a-transfer>',tableData:[{params:"dataSource",explain:"数据源，其中的数据将会被渲染到左边一栏中，targetKeys 中指定的除外。",type:"[{key: string.isRequired,title: string.isRequired,description: string,disabled: bool}][]",default:"[ ]"},{params:"disabled",explain:"是否禁用",type:"boolean",default:"false"},{params:"filterOption",explain:"接收 inputValue option 两个参数，当 option 符合筛选条件时，应返回 true，反之则返回 false。",type:"(inputValue, option): boolean"},{params:"footer",explain:"可以设置为一个 作用域插槽",type:'slot="footer" slot-scope="props"'},{params:"lazy",explain:"Transfer 使用了 [vc-lazy-load]优化性能，这里可以设置相关参数。设为 false 可以关闭懒加载。",type:"object|boolean",default:"{ height: 32, offset: 32 }"},{params:"listStyle",explain:"两个穿梭框的自定义样式",type:"object"},{params:"locale",explain:"各种语言",type:"object",default:"{ itemUnit: '项', itemsUnit: '项', notFoundContent: '列表为空', searchPlaceholder: '请输入搜索内容' }"},{params:"operations",explain:"操作文案集合，顺序从上至下",type:"string[ ]",default:"['>', '<']"},{params:"render",explain:"每行数据渲染函数，该函数的入参为 dataSource 中的项，返回值为 element。或者返回一个普通对象，其中 label 字段为 element，value 字段为 title",type:"Function(record)"},{params:"selectedKeys",explain:"设置哪些项应该被选中",type:"string[ ]",default:"[ ]"},{params:"showSearch",explain:"是否显示搜索框",type:"boolean",default:"false"},{params:"showSelectAll",explain:"是否展示全选勾选框",type:"boolean",default:"false"},{params:"targetKeys",explain:"显示在右侧框数据的 key 集合",type:"\tstring[ ]",default:"[ ]"},{params:"titles",explain:"标题集合，顺序从左至右",type:"boolean",default:"['', '']"}],tableDataFn:[{params:"change",explain:"选项在两栏之间转移时的回调函数",type:"(targetKeys, direction, moveKeys): void"},{params:"scroll",explain:"选项列表滚动时的回调函数",type:"(direction, event): void"},{params:"search",explain:"搜索框内容时改变时的回调函数",type:"(direction: 'left'|'right', value: string): void"},{params:"selectChange",explain:"选中项发生改变时的回调函数",type:"(sourceSelectedKeys, targetSelectedKeys): void"}],tableDataChildren:[{params:"direction",explain:"\t渲染列表的方向",type:"'left' | 'right'"},{params:"disabled",explain:"是否禁用列表",type:"boolean"},{params:"filteredItems",explain:"过滤后的数据",type:"TransferItem[ ]"},{params:"selectedKeys",explain:"选中的条目",type:"string[ ]"},{params:"itemSelect",explain:"勾选条目",type:"(key: string, selected: boolean)"},{params:"itemSelectAll",explain:"勾选一组条目",type:"(keys: string[], selected: boolean)"}]}}},P=N,F=Object(c["a"])(P,a,s,!1,null,null,null);t["default"]=F.exports},ceac:function(e,t,n){var a=n("2eaa"),s=n("5c69"),l=n("100e"),r=n("dcbe"),i=l((function(e,t){return r(e)?a(e,s(t,1,r,!0)):[]}));e.exports=i}}]);
//# sourceMappingURL=transfer.f57fbb46.js.map